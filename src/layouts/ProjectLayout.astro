---
import type { CollectionEntry } from "astro:content";
import Layout from "./Layout.astro";

interface Props {
    project: CollectionEntry<"projects">;
}

const {
    project: {
        data: {title, description, publishDate, slug, tags, isFeatured, seo}
    }
} = Astro.props as Props
const projectTransitionName = `project-${slug}`

const dateFormatter = new Intl.DateTimeFormat("en-US", {
    month: "long",
    day: "numeric",
    year: "numeric",
});

const formattedPublishDate = dateFormatter.format(publishDate);
---

<Layout title={`${title} â€” Eliott`} description={description}>
    <article class="pt-28 sm:pt-34 pb-30 px-6">
        <div class="max-w-4xl mx-auto">
            <a
                href="/projects"
                class="inline-flex items-center gap-2 text-xs tracking-[0.22em] uppercase text-muted hover:text-amber transition-colors"
                data-reveal
            >
                <span aria-hidden="true">&#8592;</span>
                Back to projects
            </a>

            <header
                transition:name={projectTransitionName}
                class="mt-8 border border-rule/80 bg-surface/35 rounded-sm p-6 sm:p-10"
                data-reveal
            >
                <p class="text-xs tracking-[0.24em] uppercase text-faded">
                    {formattedPublishDate}
                </p>
                <h1
                    class="mt-3 font-display text-5xl sm:text-6xl md:text-7xl leading-none text-cream/95 font-light"
                >
                    {title}
                </h1>
                <p class="mt-6 text-[17px] text-muted leading-[1.9] max-w-3xl text-justify">
                    {description}
                </p>

                {
                    tags.length > 0 && (
                        <div class="mt-7 flex flex-wrap gap-2.5">
                            {tags.map((tag) => (
                                <span class="text-[11px] tracking-[0.16em] uppercase text-amber/85 border border-amber/20 px-2.5 py-1 rounded-sm bg-amber/5">
                                    {tag}
                                </span>
                            ))}
                        </div>
                    )
                }
            </header>

            <section class="project-rich mt-12">
                <slot />
            </section>
        </div>
    </article>
</Layout>
